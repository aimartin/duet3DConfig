; Configuration file for Duet WiFi (firmware version 1.17)
; executed by the firmware on start-up
;
; generated by RepRapFirmware Configuration Tool on Sun Jun 11 2017 22:39:27 GMT+0200 (CEST)

; General preferences
M111 S0 ; Debugging off
G21 ; Work in millimetres
G90 ; Send absolute coordinates...
M83 ; ...but relative extruder moves
M555 P2 ; Set firmware compatibility to look like Marlin
M570 H1 P15 T150; Set Heater 1 Allowed Temp deviation 15ºC in 150s
M570 H0 P15 T150; Set Heater 0 Allowed Temp deviation 15ºC in 150s

M667 S1 ; Select CoreXY mode
M208 X0 Y-15 Z0 S1 ; Minima 300x300
;M208 X295 Y295 Z295 S0 ; Maxima 300x300
M208 X250 Y240 Z295 S0 ; Maxima 300x300 X de 290 a 230 - Y de 275 a 240

; Endstops
M574 X1 Y1 S1 ; Define active low and unused microswitches

; PiezoSensor
M558 P5 I1 F2000 R1 T3000 H2 X0 Y0 Z0     ; Tipo 5, Invert True, Speed 2000mm/m, Altura 3, Velocidad Travel 2000mm/min, 
M557 X0:300 Y0:300 S55 ; Define mesh grid -- 35

; PETG ;
;G31 X0 Y0 Z-0.20 P150 ; PC PETG -- TEST --
;G31 X0 Y0 Z-0.25 P100 ; PC PETG (Alto pero pega)
;G31 X0 Y0 Z-0.23 P100 ; PC PETG (Alto pero pega)
;G31 X0 Y0 Z-0.20 P100 ; PC PETG (Demasiado Bajo - No se despega)

; ABS ;
;G31 X0 Y0 Z-0.13 P150 ; PC ABS (Testing)

; PLA ;
G31 X0 Y0 Z-0.155 P100 ; PC PLA (Selected)

; Drives
M569 P0 S0 ; Drive 0 goes backwards
M569 P1 S0 ; Drive 1 goes backwards
M569 P2 S0 ; Drive 2 goes backwards
M569 P3 S0 ; Drive 3 goes backwards

; Pressure Advance
;M572 D0 S0.15

M350 X256 Y256 I0 ; Configure microstepping without interpolation
M350 Z32 I0 ; Configure microstepping with interpolation
M350 E16 I0 ;
M92 X1280 Y1280 Z800 E98.4882 ; Set steps per mm
M566 X700 Y700 Z100 E300 ; Set maximum instantaneous speed changes (mm/min) (Cambiado E de 120 a 300) - Cambiado Z de 12 a 100
M203 X6000 Y6000 Z200 E1500 ; Set maximum speeds (mm/min) (Cambiado E de 1200 a 1500)
M201 X700 Y700 Z150 E10000 ; Set accelerations (mm/s^2) (Cambiado E de 250 a 10000)

M906 X1000 Y1000 Z800 E1200 I30 ; Set motor currents (mA) and motor idle factor in per cent
M84 S30 ; Set idle timeout

; Heaters
M143 S275 ; Set maximum heater temperature to 275C
M305 P0 R4700 T100000 B3950 ; Set thermistor + ADC parameters for heater 0 - BED
M305 P1 T100000 B4725 C7.060000e-8 R4700 ; Set thermistor + ADC parameters for heater 1

; Tools
M563 P0 D0 H1 ; Define tool 0
G10 P0 X0 Y0 Z0 ; Set tool 0 axis offsets
G10 P0 R0 S0 ; Set initial tool 0 active and standby temperatures to 0C

; Network
M550 POkercho's Hypercube ; Set machine name
M552 S1 ; Enable network
; Access point is configured manually via M587 by the user
M586 P0 S1 ; Enable HTTP
M586 P1 S0 ; Disable FTP
M586 P2 S0 ; Disable Telnet

; Fans
M106 P0 S0 I0 F500 H-1 ; Set fan 0 value, PWM signal inversion and frequency. Thermostatic control is turned off
M106 P1 S1 I0 F500 H1 T45 ; Set fan 1 value, PWM signal inversion and frequency. Thermostatic control is turned off - E3D Fan
M106 P2 S1 I0 F500 H-1 ; Set fan 2 value, PWM signal inversion and frequency. Thermostatic control is turned off

; Custom settings are not configured
